<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>VRPH: inc/VRP.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">VRPH&#160;<span id="projectnumber">1.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">inc/VRP.h</div>  </div>
</div>
<div class="contents">
<a href="_v_r_p_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">//                                                        //</span>
<a name="l00003"></a>00003 <span class="comment">// This file is part of the VRPH software package for     //</span>
<a name="l00004"></a>00004 <span class="comment">// generating solutions to vehicle routing problems.      //</span>
<a name="l00005"></a>00005 <span class="comment">// VRPH was developed by Chris Groer (cgroer@gmail.com).  //</span>
<a name="l00006"></a>00006 <span class="comment">//                                                        //</span>
<a name="l00007"></a>00007 <span class="comment">// (c) Copyright 2010 Chris Groer.                        //</span>
<a name="l00008"></a>00008 <span class="comment">// All Rights Reserved.  VRPH is licensed under the       //</span>
<a name="l00009"></a>00009 <span class="comment">// Common Public License.  See LICENSE file for details.  //</span>
<a name="l00010"></a>00010 <span class="comment">//                                                        //</span>
<a name="l00012"></a>00012 <span class="comment"></span>
<a name="l00013"></a>00013 <span class="preprocessor">#ifndef _VRP_H</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="preprocessor">#define _VRP_H</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span>
<a name="l00016"></a>00016 <span class="comment">// VRP class</span>
<a name="l00017"></a><a class="code" href="class_v_r_p.html">00017</a> <span class="keyword">class </span><a class="code" href="class_v_r_p.html">VRP</a>
<a name="l00018"></a>00018 {
<a name="l00019"></a>00019 
<a name="l00020"></a><a class="code" href="class_v_r_p.html#a3eb7e09375cb9efb60e174576602cc2a">00020</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_one_point_move.html">OnePointMove</a>;
<a name="l00021"></a><a class="code" href="class_v_r_p.html#a39ceb628e29d77c67f2f02033a2947fd">00021</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_two_point_move.html">TwoPointMove</a>;
<a name="l00022"></a><a class="code" href="class_v_r_p.html#af9c805ac13341028e10098c88c60b2ba">00022</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_three_point_move.html">ThreePointMove</a>;
<a name="l00023"></a><a class="code" href="class_v_r_p.html#a0c92c8936f6281af1fd5ed7eac0ebf7a">00023</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_two_opt.html">TwoOpt</a>;
<a name="l00024"></a><a class="code" href="class_v_r_p.html#af723275dce636f74121f91687deedc70">00024</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_three_opt.html">ThreeOpt</a>;
<a name="l00025"></a><a class="code" href="class_v_r_p.html#aad4e90257d9562aaba2f6cb67b18b0b4">00025</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_or_opt.html">OrOpt</a>;
<a name="l00026"></a><a class="code" href="class_v_r_p.html#ab4edeb2c24ce03a58fd64a672344879d">00026</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_cross_exchange.html">CrossExchange</a>;
<a name="l00027"></a>00027 
<a name="l00028"></a><a class="code" href="class_v_r_p.html#a0db13b3e7109396073d590aa1a62d0ec">00028</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_postsert.html">Postsert</a>;
<a name="l00029"></a><a class="code" href="class_v_r_p.html#ab909d662038d19e5f8fe92828f2876c0">00029</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_presert.html">Presert</a>;
<a name="l00030"></a><a class="code" href="class_v_r_p.html#a639ad495d8fe15a35cd86e1e1bf86864">00030</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_move_string.html">MoveString</a>;
<a name="l00031"></a><a class="code" href="class_v_r_p.html#a70514fe066409f0e910cf8622c6ec2fd">00031</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_swap.html">Swap</a>;
<a name="l00032"></a><a class="code" href="class_v_r_p.html#a8dcd8df53052c8616440b02c62028d2b">00032</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_swap_ends.html">SwapEnds</a>;
<a name="l00033"></a><a class="code" href="class_v_r_p.html#a297dde4c15143a11faf5fbaec854461c">00033</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_concatenate.html">Concatenate</a>;
<a name="l00034"></a><a class="code" href="class_v_r_p.html#a01b574361116f8cdbdee667c2f0c7068">00034</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_flip.html">Flip</a>;
<a name="l00035"></a>00035 
<a name="l00036"></a><a class="code" href="class_v_r_p.html#af4ac00f95018bc06be8f4ae5e19b3357">00036</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_clarke_wright.html">ClarkeWright</a>;
<a name="l00037"></a><a class="code" href="class_v_r_p.html#a908f328c298fc585c89c0ab14546aeba">00037</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_sweep.html">Sweep</a>;
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="keyword">public</span>:
<a name="l00040"></a>00040     <a class="code" href="class_v_r_p.html#aea92b2395b85af8de610684eba870e52">VRP</a>(<span class="keywordtype">int</span> n);
<a name="l00041"></a>00041     <span class="comment">// Constructor for problems with n non-VRPH_DEPOT nodes</span>
<a name="l00042"></a>00042     <a class="code" href="class_v_r_p.html#aea92b2395b85af8de610684eba870e52">VRP</a>(<span class="keywordtype">int</span> n, <span class="keywordtype">int</span> ndays);
<a name="l00043"></a>00043     <span class="comment">// Construct for problems with n non-VRPH_DEPOT nodes and num_days days</span>
<a name="l00044"></a>00044 
<a name="l00045"></a>00045     <span class="comment">// Destructor</span>
<a name="l00046"></a>00046     <a class="code" href="class_v_r_p.html#a78e9e0bdcba60d1f3f69df96d0d88e1b">~VRP</a>();
<a name="l00047"></a>00047 
<a name="l00048"></a>00048     <span class="comment">// TSPLIB file processing</span>
<a name="l00049"></a>00049     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a484362e33edbb65b0015b82b60740817">read_TSPLIB_file</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *infile);
<a name="l00050"></a>00050     <span class="comment">// Write problem instance</span>
<a name="l00051"></a>00051     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#aae4bfa00f65383453b3d86a0e63a5f78">write_TSPLIB_file</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *outfile);
<a name="l00052"></a>00052 
<a name="l00053"></a>00053     <span class="comment">// Solution display/debugging</span>
<a name="l00054"></a>00054     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#ada636b72ffc5ea0831bd083b408ada37">show_next_array</a>();
<a name="l00055"></a>00055     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#adb428999690dc1538a9136be2fc4a545">show_pred_array</a>();
<a name="l00056"></a>00056     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a5e3e1361a093bd343ce5cdc51d20857d">verify_routes</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *message);
<a name="l00057"></a>00057     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#af00d2002e90f65c8dd86e37228134779">check_fixed_edges</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *message);
<a name="l00058"></a>00058     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#aaa5bdbb47495253df1a26d38db0f5b32">create_pred_array</a>();
<a name="l00059"></a>00059     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#aa1fecc4f90a6cd959205eb8f244148da">print_stats</a>();
<a name="l00060"></a>00060 
<a name="l00061"></a>00061     <span class="comment">// Files (read/write)</span>
<a name="l00062"></a>00062     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a53325e48991274fa0e36efd92abbf868">write_solution_file</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename);
<a name="l00063"></a>00063     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a8db444175bfce88c819fe551ac2c2392">write_solutions</a>(<span class="keywordtype">int</span> num_sols, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename);
<a name="l00064"></a>00064     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a5e08e9d713236b6fa098ed9ed2aeb180">write_tex_file</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename);
<a name="l00065"></a>00065     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a88640397d743e6b40095fc2b9a74ad96">read_solution_file</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename);
<a name="l00066"></a>00066     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a7b056dcb823f18a187ba74dfe46fe148">read_fixed_edges</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename);
<a name="l00067"></a>00067 
<a name="l00068"></a>00068     <span class="comment">// Solution buffers (import/export)</span>
<a name="l00069"></a>00069     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a7766815e5d2eaf7972078e389f3cb44d">export_solution_buff</a>(<span class="keywordtype">int</span> *sol_buff);
<a name="l00070"></a>00070     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a295efd4df161f2aac13aaaedf0e9448c">import_solution_buff</a>(<span class="keywordtype">int</span> *sol_buff);
<a name="l00071"></a>00071     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#adb439544630c4817fc6e9373a3216ef5">export_canonical_solution_buff</a>(<span class="keywordtype">int</span> *sol_buff);
<a name="l00072"></a>00072 
<a name="l00073"></a>00073     <span class="comment">// Solution display</span>
<a name="l00074"></a>00074     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a220683d7cff96be26550a081f948cfd2">show_routes</a>();
<a name="l00075"></a>00075     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#abe8dee5bd3d4ace4c38d9ec68b39e409">show_route</a>(<span class="keywordtype">int</span> k);
<a name="l00076"></a>00076     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a3bbbdd28b87f379ff56606c06b27393c">summary</a>();
<a name="l00077"></a>00077 
<a name="l00078"></a>00078     <span class="comment">// Removes all solutions from memory and sets all nodes to unrouted</span>
<a name="l00079"></a>00079     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a6c9d4499eab192e2af3de9ae2ee2d93a">reset</a>();
<a name="l00080"></a>00080 
<a name="l00081"></a>00081     <span class="comment">// Graphics - only meaningful with PLPlot</span>
<a name="l00082"></a>00082     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a8c6b6d381f6c0940f7ee71ceaa393806">plot</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <span class="keywordtype">int</span> options, <span class="keywordtype">int</span> orientation);
<a name="l00083"></a>00083     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a8c6b6d381f6c0940f7ee71ceaa393806">plot</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename);
<a name="l00084"></a>00084     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a10b8abb343d7826fc576aebd73ba11f9">plot_route</a>(<span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename);
<a name="l00085"></a>00085 
<a name="l00086"></a>00086     <span class="comment">// Copying</span>
<a name="l00087"></a>00087     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#ad9c2a0f28188939816bbbd948df2378d">clone</a>(<a class="code" href="class_v_r_p.html">VRP</a> *W);
<a name="l00088"></a>00088 
<a name="l00089"></a>00089     <span class="comment">// Solvers</span>
<a name="l00090"></a>00090     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#add8a377bf3c6136beda15b2a571bc8ad">RTR_solve</a>(<span class="keywordtype">int</span> heuristics, <span class="keywordtype">int</span> intensity, <span class="keywordtype">int</span> max_stuck, <span class="keywordtype">int</span> num_perturbs,
<a name="l00091"></a>00091         <span class="keywordtype">double</span> dev, <span class="keywordtype">int</span> nlist_size, <span class="keywordtype">int</span> perturb_type, <span class="keywordtype">int</span> accept_type, <span class="keywordtype">bool</span> <a class="code" href="vrp__glpk__sp_8cpp.html#ab3f078684998b83967d507d0f453f454">verbose</a>);
<a name="l00092"></a>00092 
<a name="l00093"></a>00093     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a721540de1b77fe2c90aadd09a7491be8">SA_solve</a>(<span class="keywordtype">int</span> heuristics, <span class="keywordtype">double</span> start_temp, <span class="keywordtype">double</span> cool_ratio,
<a name="l00094"></a>00094         <span class="keywordtype">int</span> iters_per_loop, <span class="keywordtype">int</span> num_loops, <span class="keywordtype">int</span> nlist_size, <span class="keywordtype">bool</span> <a class="code" href="vrp__glpk__sp_8cpp.html#ab3f078684998b83967d507d0f453f454">verbose</a>);
<a name="l00095"></a>00095 
<a name="l00096"></a>00096     <span class="comment">// The name of the problem (from TSPLIB file)</span>
<a name="l00097"></a><a class="code" href="class_v_r_p.html#af9d32e74c8941ce1ae12fdb057350dc3">00097</a>     <span class="keywordtype">char</span> <a class="code" href="class_v_r_p.html#af9d32e74c8941ce1ae12fdb057350dc3">name</a>[<a class="code" href="_v_r_p_h_8h.html#aae0c5a1a0fce83d2ea89148997223333">VRPH_STRING_SIZE</a>];
<a name="l00098"></a>00098 
<a name="l00099"></a>00099     <span class="comment">// For multi-day problems</span>
<a name="l00100"></a>00100     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#acb5f69737f56a2abdcb05fcb7a994396">set_daily_demands</a>(<span class="keywordtype">int</span> day);
<a name="l00101"></a>00101     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a90bd8e393c92c78fcab13b22c283e88f">set_daily_service_times</a>(<span class="keywordtype">int</span> day);
<a name="l00102"></a>00102 
<a name="l00103"></a>00103     <span class="comment">// Creating default routes for CW, etc.</span>
<a name="l00104"></a>00104     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a6ba7dfc7f4a60f4b098e13dc87fc2212">create_default_routes</a>();
<a name="l00105"></a>00105     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a6ba7dfc7f4a60f4b098e13dc87fc2212">create_default_routes</a>(<span class="keywordtype">int</span> day);
<a name="l00106"></a>00106 
<a name="l00107"></a>00107     <span class="comment">// Routines to remove and insert nodes into solution</span>
<a name="l00108"></a>00108     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#af222e1b7a1d55c864e37ca237cce2408">eject_node</a>(<span class="keywordtype">int</span> k);
<a name="l00109"></a>00109     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#ae3abaa97f9abf1a46348068a5a11d4e8">inject_set</a>(<span class="keywordtype">int</span> num, <span class="keywordtype">int</span> *nodelist, <span class="keywordtype">int</span> rules, <span class="keywordtype">int</span> attempts);
<a name="l00110"></a>00110     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#acaf05691fee990e75fa6e2bd9a53d6ce">eject_neighborhood</a>(<span class="keywordtype">int</span> j, <span class="keywordtype">int</span> num, <span class="keywordtype">int</span> *nodelist);
<a name="l00111"></a>00111 
<a name="l00112"></a>00112     <span class="comment">// Route operations</span>
<a name="l00113"></a>00113     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a0780f49cd584076612217a25b2c92c67">refresh_routes</a>();
<a name="l00114"></a>00114     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#ac3b9b76240401f3e9be1153d4ea703fd">normalize_route_numbers</a>();
<a name="l00115"></a>00115     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a53c375f3acdb43efc3f2e63b40cdca01">update_route</a>(<span class="keywordtype">int</span> j, <a class="code" href="class_v_r_p_route.html">VRPRoute</a> *R);
<a name="l00116"></a>00116     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#ac574e47d01cbb632c4b3b398e5dc14a0">clean_route</a>(<span class="keywordtype">int</span> r, <span class="keywordtype">int</span> heuristics);
<a name="l00117"></a>00117     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a660ca2a84b28b869d8b4994b00d01f40">split</a>(<span class="keywordtype">double</span> p);
<a name="l00118"></a>00118     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a274f22551361e9575bfc95611fa7df28">split_routes</a>(<span class="keywordtype">double</span> p, <span class="keywordtype">int</span> **ejected_routes, <span class="keywordtype">double</span> *t);
<a name="l00119"></a>00119     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a8296873147c5a0cd8c286c294566524b">add_route</a>(<span class="keywordtype">int</span> *route_buff);
<a name="l00120"></a>00120     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a46304ce927c893445b93c1df22d04863">append_route</a>(<span class="keywordtype">int</span> *sol_buff, <span class="keywordtype">int</span> *route_buff);
<a name="l00121"></a>00121     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#add02d688670a2a569755981227421800">intersect_solutions</a>(<span class="keywordtype">int</span> *new_sol, <span class="keywordtype">int</span> **routes, <span class="keywordtype">int</span> *sol1, <span class="keywordtype">int</span> *sol2, <span class="keywordtype">int</span> min_routes);
<a name="l00122"></a>00122     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#af5ff0b40d59ae77de3717e5a8be19828">find_common_routes</a>(<span class="keywordtype">int</span> *sol1, <span class="keywordtype">int</span> *sol2, <span class="keywordtype">int</span> *route_nums);
<a name="l00123"></a>00123 
<a name="l00124"></a>00124     <span class="comment">// Fixing edges</span>
<a name="l00125"></a>00125     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a7ef75affd632e4493c1c2c2ed14c2ecd">list_fixed_edges</a>(<span class="keywordtype">int</span> *fixed_list);
<a name="l00126"></a>00126     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#ae71ef1c9462cf6d175d20abb357e8c31">unfix_all</a>();
<a name="l00127"></a>00127     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a5dd07c6c3a29a8ac0d1f149bef9eb433">fix_edge</a>(<span class="keywordtype">int</span> start, <span class="keywordtype">int</span> end);
<a name="l00128"></a>00128     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a1f927132c4d90c5a6aa793a3cbfeb5f5">unfix_edge</a>(<span class="keywordtype">int</span> start, <span class="keywordtype">int</span> end);
<a name="l00129"></a>00129     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a8ea26e9e50f8e5064097d68f12f53e94">fix_string</a>(<span class="keywordtype">int</span> *node_string, <span class="keywordtype">int</span> k);
<a name="l00130"></a>00130 
<a name="l00131"></a>00131     <span class="comment">// Accessor functions for private data </span>
<a name="l00132"></a>00132     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a28d56748005cb291e0299acfa7a72346">get_num_nodes</a>();
<a name="l00133"></a>00133     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a2197b98f43f825d1af6c74bed717b3b4">get_total_route_length</a>();
<a name="l00134"></a>00134     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a78e8995a693b0619a9c4e1ec6150f4f3">get_total_service_time</a>();
<a name="l00135"></a>00135     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#abe6b9554fab15788c1159937aac8f7ab">get_best_sol_buff</a>(<span class="keywordtype">int</span> *sol_buff);
<a name="l00136"></a>00136     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a3f7a41c3d1f896909a0cc83004a55993">get_best_total_route_length</a>();
<a name="l00137"></a>00137     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a50f7c69b6795b89895c1b3a0fd267ea3">get_total_number_of_routes</a>();
<a name="l00138"></a>00138     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a2e165fe21cf793a8f58efb039ebf36f5">get_num_original_nodes</a>();
<a name="l00139"></a>00139     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a0080e91ea13bffc3f372c60fc2f2444a">get_num_days</a>();        <span class="comment">// For multi-day VRPs</span>
<a name="l00140"></a>00140     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#aa0ac9587aa6a5282550fbdf32fcfeb11">get_best_known</a>();
<a name="l00141"></a>00141     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a88f8ccc266e829d431e726c2e8b81caa">set_best_total_route_length</a>(<span class="keywordtype">double</span> val);
<a name="l00142"></a>00142     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#aa001538b0c1fdfdda8f47661e4e98b6e">get_max_veh_capacity</a>();
<a name="l00143"></a>00143     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#aac110a652caa37ca55af15b8fe732805">get_max_route_length</a>();
<a name="l00144"></a>00144 
<a name="l00145"></a>00145     <span class="comment">// Places to store unique solutions and routes - uses internal hash table</span>
<a name="l00146"></a><a class="code" href="class_v_r_p.html#a858342764727f7bea3c965b4e9fb3dfa">00146</a>     <a class="code" href="class_v_r_p_solution_warehouse.html">VRPSolutionWarehouse</a> *<a class="code" href="class_v_r_p.html#a858342764727f7bea3c965b4e9fb3dfa">solution_wh</a>; <span class="comment">// To store additional solutions</span>
<a name="l00147"></a><a class="code" href="class_v_r_p.html#a57c6657f57f74ec450a59d277706dfd6">00147</a>     <a class="code" href="class_v_r_p_route_warehouse.html">VRPRouteWarehouse</a> *<a class="code" href="class_v_r_p.html#a57c6657f57f74ec450a59d277706dfd6">route_wh</a>;     <span class="comment">// To store routes/columns</span>
<a name="l00148"></a>00148 
<a name="l00149"></a>00149     <span class="comment">// Distance matrix creation</span>
<a name="l00150"></a>00150     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#af29c214351fe56211ead2ffbb88704b0">create_distance_matrix</a>(<span class="keywordtype">int</span> type);
<a name="l00151"></a>00151     <span class="comment">// Neighbor list creation</span>
<a name="l00152"></a>00152     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#ad130cf735469fba7515836247a4666bc">create_neighbor_lists</a>(<span class="keywordtype">int</span> nsize);
<a name="l00153"></a>00153 
<a name="l00154"></a>00154     <span class="comment">// Node injection/ejection</span>
<a name="l00155"></a>00155     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a2eea5225f0f8f9756bfeac54cd8371b9">perturb</a>();
<a name="l00156"></a>00156     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a094295c8278aa30ec623750dd6830b3b">eject_route</a>(<span class="keywordtype">int</span> r, <span class="keywordtype">int</span> *route_buff);
<a name="l00157"></a>00157     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#abc1fa45b42d0fc00f9465ad1be62fd2c">inject_node</a>(<span class="keywordtype">int</span> j);
<a name="l00158"></a>00158 
<a name="l00159"></a>00159     <span class="comment">// Route reversal</span>
<a name="l00160"></a>00160     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#ac16a3bfc6dd90097231615e74c365e99">reverse_route</a>(<span class="keywordtype">int</span> i);
<a name="l00161"></a>00161 
<a name="l00162"></a>00162     <span class="comment">// Statistics</span>
<a name="l00163"></a><a class="code" href="class_v_r_p.html#a5adda95e03e133206d5fbcdf742954e0">00163</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a5adda95e03e133206d5fbcdf742954e0">num_evaluations</a>[<a class="code" href="_v_r_p_heuristic_8h.html#a4e7cc3d3a524e089c5730b0c8623b880">NUM_HEURISTICS</a>];
<a name="l00164"></a><a class="code" href="class_v_r_p.html#ad2c3d755cc77b47e448d0c40dedaf4f2">00164</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#ad2c3d755cc77b47e448d0c40dedaf4f2">num_moves</a>[<a class="code" href="_v_r_p_heuristic_8h.html#a4e7cc3d3a524e089c5730b0c8623b880">NUM_HEURISTICS</a>];
<a name="l00165"></a>00165 
<a name="l00166"></a>00166 <span class="keyword">private</span>:  
<a name="l00167"></a>00167 
<a name="l00168"></a>00168     <span class="comment">// Problem parameters, description, etc.</span>
<a name="l00169"></a><a class="code" href="class_v_r_p.html#a18aadb4711a9495b4f9c01d5ba839cde">00169</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a18aadb4711a9495b4f9c01d5ba839cde">num_nodes</a>;
<a name="l00170"></a><a class="code" href="class_v_r_p.html#a4c206d5757a64335ad660ad03116c376">00170</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a4c206d5757a64335ad660ad03116c376">total_route_length</a>;
<a name="l00171"></a><a class="code" href="class_v_r_p.html#a8e6219158b959b07443ecee7508f820b">00171</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a8e6219158b959b07443ecee7508f820b">total_service_time</a>;
<a name="l00172"></a><a class="code" href="class_v_r_p.html#a3f3ca7d6c3a3c632c07750afa2b31b63">00172</a>     <span class="keywordtype">int</span> *<a class="code" href="class_v_r_p.html#a3f3ca7d6c3a3c632c07750afa2b31b63">best_sol_buff</a>;                <span class="comment">// Place for the best solution to live</span>
<a name="l00173"></a><a class="code" href="class_v_r_p.html#afd48775dd53edd84340f68f704b8f9dc">00173</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#afd48775dd53edd84340f68f704b8f9dc">best_total_route_length</a>;
<a name="l00174"></a><a class="code" href="class_v_r_p.html#aaf80fa84fe5d2641ecbd125b237a69fe">00174</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#aaf80fa84fe5d2641ecbd125b237a69fe">total_number_of_routes</a>;
<a name="l00175"></a><a class="code" href="class_v_r_p.html#aba1d749c32b7c7f03b4223d4e824c67f">00175</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#aba1d749c32b7c7f03b4223d4e824c67f">num_original_nodes</a>;
<a name="l00176"></a><a class="code" href="class_v_r_p.html#a8c1aea504be581f3d44cbe809343dd59">00176</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a8c1aea504be581f3d44cbe809343dd59">best_known</a>;  <span class="comment">// Record of the best known solution for benchmarks</span>
<a name="l00177"></a><a class="code" href="class_v_r_p.html#aca4af6860b5f2e6f8b9d2d962bc08d92">00177</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#aca4af6860b5f2e6f8b9d2d962bc08d92">num_days</a>;        <span class="comment">// For multi-day VRPs</span>
<a name="l00178"></a><a class="code" href="class_v_r_p.html#aa6eca2d600d3493057af43499619abf4">00178</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#aa6eca2d600d3493057af43499619abf4">problem_type</a>;
<a name="l00179"></a><a class="code" href="class_v_r_p.html#a65f10da2ba558e09769475bdcbb107de">00179</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a65f10da2ba558e09769475bdcbb107de">total_demand</a>;
<a name="l00180"></a><a class="code" href="class_v_r_p.html#ae6557cfbba614dc5d75567a7e0abf099">00180</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#ae6557cfbba614dc5d75567a7e0abf099">max_veh_capacity</a>;
<a name="l00181"></a><a class="code" href="class_v_r_p.html#a23ee0d0e34908651c27f2710d08b182d">00181</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a23ee0d0e34908651c27f2710d08b182d">orig_max_veh_capacity</a>;
<a name="l00182"></a><a class="code" href="class_v_r_p.html#a8884ecddc6d2592162c012b284df672a">00182</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a8884ecddc6d2592162c012b284df672a">max_route_length</a>;
<a name="l00183"></a><a class="code" href="class_v_r_p.html#a4e20cf6dd60c29bd004d4160f93bdb98">00183</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a4e20cf6dd60c29bd004d4160f93bdb98">min_route_length</a>;
<a name="l00184"></a><a class="code" href="class_v_r_p.html#a2697a8a76a766c0fec117719f719f402">00184</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a2697a8a76a766c0fec117719f719f402">orig_max_route_length</a>;
<a name="l00185"></a><a class="code" href="class_v_r_p.html#ab48770e40f4f4ca52b032d6d1d33cde2">00185</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#ab48770e40f4f4ca52b032d6d1d33cde2">min_vehicles</a>;    <span class="comment">// Not currently used    </span>
<a name="l00186"></a><a class="code" href="class_v_r_p.html#aba36cee3f7c8bdc5f97ccf8b35c2e6d5">00186</a>     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#aba36cee3f7c8bdc5f97ccf8b35c2e6d5">has_service_times</a>;
<a name="l00187"></a><a class="code" href="class_v_r_p.html#a31a699aee99ab5ceb4ef1a8ac517937f">00187</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a31a699aee99ab5ceb4ef1a8ac517937f">fixed_service_time</a>;
<a name="l00188"></a><a class="code" href="class_v_r_p.html#aae0d4e2df1a97802b5c5f9e0c0757ef0">00188</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#aae0d4e2df1a97802b5c5f9e0c0757ef0">edge_weight_type</a>;
<a name="l00189"></a><a class="code" href="class_v_r_p.html#aa20a5dbd3e3070a63a72a76c2ff46722">00189</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#aa20a5dbd3e3070a63a72a76c2ff46722">coord_type</a>;
<a name="l00190"></a><a class="code" href="class_v_r_p.html#a47e17e1b022eac02504a129ba26f28b8">00190</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a47e17e1b022eac02504a129ba26f28b8">display_type</a>;
<a name="l00191"></a><a class="code" href="class_v_r_p.html#a4de4cdf0660a89b599a3d2086698a27c">00191</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a4de4cdf0660a89b599a3d2086698a27c">edge_weight_format</a>;
<a name="l00192"></a><a class="code" href="class_v_r_p.html#aa84ae03f2bd1c91491f270a672f8fcd1">00192</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#aa84ae03f2bd1c91491f270a672f8fcd1">matrix_size</a>;
<a name="l00193"></a><a class="code" href="class_v_r_p.html#a90a29b6636daa9e4ada8c01069b52d07">00193</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a90a29b6636daa9e4ada8c01069b52d07">balance_parameter</a>;    <span class="comment">// For VRPH_BALANCED problems</span>
<a name="l00194"></a><a class="code" href="class_v_r_p.html#a8f07dd3927e226e01c2f77f380c17ac3">00194</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a8f07dd3927e226e01c2f77f380c17ac3">dummy_index</a>;
<a name="l00195"></a><a class="code" href="class_v_r_p.html#ac68b2c8f1b906dcce3b32a3c308240b3">00195</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#ac68b2c8f1b906dcce3b32a3c308240b3">neighbor_list_size</a>;
<a name="l00196"></a><a class="code" href="class_v_r_p.html#a328026fe60722fe6cc09a4c5aae404b8">00196</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a328026fe60722fe6cc09a4c5aae404b8">temperature</a>;            <span class="comment">// For VRPH_SIMULATED_ANNEALING</span>
<a name="l00197"></a><a class="code" href="class_v_r_p.html#a68589860bea9d0a278ab57bbefb3f8a0">00197</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a68589860bea9d0a278ab57bbefb3f8a0">cooling_ratio</a>;
<a name="l00198"></a>00198     
<a name="l00199"></a><a class="code" href="class_v_r_p.html#afaf85ef2953e205d5eae0b1355ffe973">00199</a>     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#afaf85ef2953e205d5eae0b1355ffe973">symmetric</a>;                 <span class="comment">// To keep track of symmetric/asymmetric instances</span>
<a name="l00200"></a>00200                                     <span class="comment">// Note! Asymmetric instances have received only </span>
<a name="l00201"></a>00201                                     <span class="comment">// limited testing!</span>
<a name="l00202"></a><a class="code" href="class_v_r_p.html#a22da6861faa4543f73b7a66d89a92f91">00202</a>     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a22da6861faa4543f73b7a66d89a92f91">can_display</a>;
<a name="l00203"></a>00203 
<a name="l00204"></a><a class="code" href="class_v_r_p.html#ade83b7d5a9db82ff85e730daa4caac5a">00204</a>     <span class="keywordtype">double</span> **<a class="code" href="class_v_r_p.html#ade83b7d5a9db82ff85e730daa4caac5a">d</a>;                    <span class="comment">// The distance matrix d</span>
<a name="l00205"></a><a class="code" href="class_v_r_p.html#ab4390370cb73c51ac6ebe12aaf51f2c4">00205</a>     <span class="keywordtype">bool</span> **<a class="code" href="class_v_r_p.html#ab4390370cb73c51ac6ebe12aaf51f2c4">fixed</a>;                <span class="comment">// Matrix to keep track of fixed edges</span>
<a name="l00206"></a>00206 
<a name="l00207"></a><a class="code" href="class_v_r_p.html#a35f503e16fdbf0d9bd3e79d79bc70acd">00207</a>     <span class="keyword">class </span><a class="code" href="class_v_r_p_node.html">VRPNode</a> *<a class="code" href="class_v_r_p.html#a35f503e16fdbf0d9bd3e79d79bc70acd">nodes</a>;        <span class="comment">// Array of nodes - contains coordinates, demand</span>
<a name="l00208"></a>00208     <span class="comment">// amounts, etc.</span>
<a name="l00209"></a>00209 
<a name="l00210"></a><a class="code" href="class_v_r_p.html#a464f8802b533b943a25e7b47e15e7cd1">00210</a>     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a464f8802b533b943a25e7b47e15e7cd1">depot_normalized</a>;        <span class="comment">// Set to true if VRPH_DEPOT coords normalized to origin</span>
<a name="l00211"></a>00211     <span class="comment">// for Euclidean problem.</span>
<a name="l00212"></a>00212 
<a name="l00213"></a><a class="code" href="class_v_r_p.html#a7de6d41fe877d981e8a5bf5b25a39cab">00213</a>     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a7de6d41fe877d981e8a5bf5b25a39cab">forbid_tiny_moves</a>;        <span class="comment">// Set to true to prevent potentially nonsense moves</span>
<a name="l00214"></a>00214     <span class="comment">// that have a tiny (perhaps zero) effect on route length</span>
<a name="l00215"></a>00215 
<a name="l00216"></a>00216     <span class="comment">// Local search neighborhood creation</span>
<a name="l00217"></a>00217     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a55fa1cba5d51bd97f2e43b9caa647ecd">create_search_neighborhood</a>(<span class="keywordtype">int</span> j, <span class="keywordtype">int</span> rules);    
<a name="l00218"></a><a class="code" href="class_v_r_p.html#a30b72e877a153354bd5d8411c4dd5971">00218</a>     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a30b72e877a153354bd5d8411c4dd5971">search_size</a>;            
<a name="l00219"></a><a class="code" href="class_v_r_p.html#aff4f38285d931237cc1cb7006d1d4fcd">00219</a>     <span class="keywordtype">int</span> *<a class="code" href="class_v_r_p.html#aff4f38285d931237cc1cb7006d1d4fcd">search_space</a>;            
<a name="l00220"></a>00220 
<a name="l00221"></a>00221     <span class="comment">// Solution storage</span>
<a name="l00222"></a><a class="code" href="class_v_r_p.html#acd2b81d8d25db522d089a33b212107ce">00222</a>     <span class="keywordtype">int</span> *<a class="code" href="class_v_r_p.html#acd2b81d8d25db522d089a33b212107ce">next_array</a>;
<a name="l00223"></a><a class="code" href="class_v_r_p.html#a171c6f136ff0334141eba4f8df239f3a">00223</a>     <span class="keywordtype">int</span> *<a class="code" href="class_v_r_p.html#a171c6f136ff0334141eba4f8df239f3a">pred_array</a>;
<a name="l00224"></a><a class="code" href="class_v_r_p.html#aaf42240b29e2ddf0c79b3da8cd6a3087">00224</a>     <span class="keywordtype">int</span> *<a class="code" href="class_v_r_p.html#aaf42240b29e2ddf0c79b3da8cd6a3087">route_num</a>;
<a name="l00225"></a><a class="code" href="class_v_r_p.html#a49559f4098eea0527da72878fb5d5404">00225</a>     <span class="keywordtype">bool</span> *<a class="code" href="class_v_r_p.html#a49559f4098eea0527da72878fb5d5404">routed</a>;            <span class="comment">// Indicates whether the customer is in a route yet or not</span>
<a name="l00226"></a>00226 
<a name="l00227"></a><a class="code" href="class_v_r_p.html#a031f5b20e9fcbcb5f79839444ce0bbfc">00227</a>     <span class="keyword">class </span><a class="code" href="class_v_r_p_route.html">VRPRoute</a> *<a class="code" href="class_v_r_p.html#a031f5b20e9fcbcb5f79839444ce0bbfc">route</a>;    <span class="comment">// Array stores useful information about the routes in a solution</span>
<a name="l00228"></a>00228 
<a name="l00229"></a>00229     <span class="comment">// Tabu search - very limited testing so far!!</span>
<a name="l00230"></a><a class="code" href="class_v_r_p.html#ae2febf169fbb970db5d3e4b1afdfdf2b">00230</a>     <span class="keyword">class </span><a class="code" href="class_v_r_p_tabu_list.html">VRPTabuList</a> *<a class="code" href="class_v_r_p.html#ae2febf169fbb970db5d3e4b1afdfdf2b">tabu_list</a>;
<a name="l00231"></a>00231     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#aca16c9ae324bfa368ffab0ee117d924c">check_tabu_status</a>(<a class="code" href="class_v_r_p_move.html">VRPMove</a> *M, <span class="keywordtype">int</span> *old_sol);
<a name="l00232"></a>00232 
<a name="l00233"></a><a class="code" href="class_v_r_p.html#a0561674f364aba302b1cc4d0f76f6837">00233</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a0561674f364aba302b1cc4d0f76f6837">record</a>;        <span class="comment">// For RTR</span>
<a name="l00234"></a><a class="code" href="class_v_r_p.html#a1e39d7493e674f4a22f22f21e5d0bd87">00234</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a1e39d7493e674f4a22f22f21e5d0bd87">deviation</a>;    <span class="comment">// For RTR</span>
<a name="l00235"></a>00235 
<a name="l00236"></a><a class="code" href="class_v_r_p.html#a3690e58ce5c9ad561b338359181203f3">00236</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a3690e58ce5c9ad561b338359181203f3">min_theta</a>;
<a name="l00237"></a><a class="code" href="class_v_r_p.html#a99bfad6795281816b4036ad42a900b3d">00237</a>     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#a99bfad6795281816b4036ad42a900b3d">max_theta</a>;    <span class="comment">// Polar min/max</span>
<a name="l00238"></a>00238 
<a name="l00239"></a><a class="code" href="class_v_r_p.html#a8117433ec924a862c615d1a4c5f89b4a">00239</a>     <span class="keywordtype">int</span> *<a class="code" href="class_v_r_p.html#a8117433ec924a862c615d1a4c5f89b4a">current_sol_buff</a>;  <span class="comment">// Place for the current solution if desired</span>
<a name="l00240"></a>00240 
<a name="l00241"></a>00241     <span class="comment">// Accessing edge information</span>
<a name="l00242"></a>00242     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a6fc078e7bedb3a2d9da0af62dbb645b2">before</a>(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b);
<a name="l00243"></a>00243 
<a name="l00244"></a>00244     <span class="comment">// To handle infeasibilities</span>
<a name="l00245"></a>00245     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a3e28bddbeace44a21b1128a296f956d0">check_feasibility</a>(<a class="code" href="class_v_r_p_violation.html">VRPViolation</a> *VV);
<a name="l00246"></a><a class="code" href="class_v_r_p.html#a3bd307863feb6d22fb036771d76d0f48">00246</a>     <span class="keyword">class </span><a class="code" href="class_v_r_p_violation.html">VRPViolation</a> <a class="code" href="class_v_r_p.html#a3bd307863feb6d22fb036771d76d0f48">violation</a>;
<a name="l00247"></a>00247     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a5f0fb6339cdf256c019638137ef13746">is_feasible</a>(<a class="code" href="class_v_r_p_move.html">VRPMove</a> *M, <span class="keywordtype">int</span> rules);    
<a name="l00248"></a>00248 
<a name="l00249"></a>00249     <span class="comment">// Solution manipulation</span>
<a name="l00250"></a>00250     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a07a2321a19c5ba2a787a093beffa1d6a">postsert_dummy</a>(<span class="keywordtype">int</span> i);
<a name="l00251"></a>00251     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#ae24478bfd7fcb13d077bc8109f12f7d0">presert_dummy</a>(<span class="keywordtype">int</span> i);
<a name="l00252"></a>00252     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#aa63c8539a72e3c407ee8cd0892ae858d">remove_dummy</a>();
<a name="l00253"></a>00253     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a6a2e828a5fbf2830988738768107512b">osman_insert</a>(<span class="keywordtype">int</span> k, <span class="keywordtype">double</span> alpha);
<a name="l00254"></a>00254     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#ade1046ec3a60adbfb75be9e7ff98daef">osman_perturb</a>(<span class="keywordtype">int</span> num, <span class="keywordtype">double</span> alpha);
<a name="l00255"></a>00255     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a9b3ea7b28cecf0994b7545c48eef94b4">insert_node</a>(<span class="keywordtype">int</span> j, <span class="keywordtype">int</span> i, <span class="keywordtype">int</span> k);
<a name="l00256"></a>00256     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#ac5b4714d8c880144772ddd8296c8b972">perturb_locations</a>(<span class="keywordtype">double</span> c);
<a name="l00257"></a>00257     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a4de3406506e3f48638a9975d303d386f">find_cheapest_insertion</a>(<span class="keywordtype">int</span> j, <span class="keywordtype">int</span> *edge, <span class="keywordtype">double</span> *costs, <span class="keywordtype">int</span> rules);    
<a name="l00258"></a>00258     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#af0f506119e3959a809d47976f5643348">insertion_cost</a>(<span class="keywordtype">int</span> u, <span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b);
<a name="l00259"></a>00259     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#aa876ebb6a2b91a4d6097f2aa8d4ef4e3">ejection_cost</a>(<span class="keywordtype">int</span> u);
<a name="l00260"></a>00260     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a6046e20fffcbd601a1f02a42a1a92a0c">update</a>(<a class="code" href="class_v_r_p_move.html">VRPMove</a> *M);
<a name="l00261"></a>00261 
<a name="l00262"></a>00262     <span class="comment">// Splitting VRP instances</span>
<a name="l00263"></a>00263     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#ae691693a774a5012bb7e77fc9fdee918">compute_route_center</a>(<span class="keywordtype">int</span> r);
<a name="l00264"></a>00264     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#acee4564d9d4ed7ddce32ecc7def8b623">find_neighboring_routes</a>();
<a name="l00265"></a>00265 
<a name="l00266"></a>00266     <span class="comment">// Solution memory</span>
<a name="l00267"></a>00267     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a1de9915c296a739ee5b1e5338889434c">capture_best_solution</a>();
<a name="l00268"></a>00268     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#a4cd15e9a1a08aeb112bb60ead67f689f">update_solution_wh</a>();    
<a name="l00269"></a>00269 
<a name="l00270"></a>00270     <span class="comment">// Solution information</span>
<a name="l00271"></a>00271     <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#af96ea632c4f247d8430b44a1dd49f2d0">get_segment_info</a>(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b, <span class="keyword">struct</span> <a class="code" href="struct_v_r_p_segment.html">VRPSegment</a> *S);
<a name="l00272"></a>00272     <span class="keywordtype">double</span> <a class="code" href="class_v_r_p.html#ac43dd1c3af478740817c4e6e4e1e54e7">get_distance_between</a>(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b);
<a name="l00273"></a>00273     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a6f6c6973bc8fdda2fdb499b35b715f31">get_string_end</a>(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> len);
<a name="l00274"></a>00274     <span class="keywordtype">int</span> <a class="code" href="class_v_r_p.html#a6f937aafe71c8de3408386f12bbb1e7c">count_num_routes</a>();
<a name="l00275"></a>00275     <span class="keywordtype">void</span> <a class="code" href="class_v_r_p.html#aa5233a27a24a804a69c973247c684557">update_arrival_times</a>();
<a name="l00276"></a>00276     <span class="keywordtype">bool</span>  <a class="code" href="class_v_r_p.html#a1c10f1c6714cb3d1215c7f2c4f877b8c">check_move</a>(<a class="code" href="class_v_r_p_move.html">VRPMove</a> *M, <span class="keywordtype">int</span> rules);
<a name="l00277"></a>00277 
<a name="l00278"></a>00278     <span class="comment">// Savings evaluation - inline this to speed things up </span>
<a name="l00279"></a><a class="code" href="class_v_r_p.html#a20d87546b54c2c14e85ff93a8b814248">00279</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="class_v_r_p.html#a20d87546b54c2c14e85ff93a8b814248">check_savings</a>(<a class="code" href="class_v_r_p_move.html">VRPMove</a> *M, <span class="keywordtype">int</span> rules){
<a name="l00285"></a>00285 
<a name="l00286"></a>00286 <span class="preprocessor">#if VRPH_FORBID_TINY_MOVES</span>
<a name="l00287"></a>00287 <span class="preprocessor"></span>        <span class="keywordflow">if</span>(M-&gt;<a class="code" href="class_v_r_p_move.html#a824d4dbc2ba2328d6d6f9a361dc979d7">savings</a>&gt;-<a class="code" href="_v_r_p_h_8h.html#a2c191a78250bd801cf2c86872de9f43b">VRPH_EPSILON</a> &amp;&amp; M-&gt;<a class="code" href="class_v_r_p_move.html#a824d4dbc2ba2328d6d6f9a361dc979d7">savings</a> &lt; <a class="code" href="_v_r_p_h_8h.html#a2c191a78250bd801cf2c86872de9f43b">VRPH_EPSILON</a>)
<a name="l00288"></a>00288             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00289"></a>00289 <span class="preprocessor">#endif</span>
<a name="l00290"></a>00290 <span class="preprocessor"></span>
<a name="l00291"></a>00291         <span class="keywordflow">if</span>( M-&gt;<a class="code" href="class_v_r_p_move.html#a824d4dbc2ba2328d6d6f9a361dc979d7">savings</a> &lt; -<a class="code" href="_v_r_p_h_8h.html#a2c191a78250bd801cf2c86872de9f43b">VRPH_EPSILON</a> )
<a name="l00292"></a>00292         {
<a name="l00293"></a>00293             M-&gt;<a class="code" href="class_v_r_p_move.html#ad6a7403e76e701bde510f50afecfa50e">evaluated_savings</a>=<span class="keyword">true</span>;
<a name="l00294"></a>00294             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00295"></a>00295         }
<a name="l00296"></a>00296         <span class="comment">// The order needs to be changed if we eventually add additional rules</span>
<a name="l00297"></a>00297         <span class="comment">// that do not always accept improving moves!!</span>
<a name="l00298"></a>00298 
<a name="l00299"></a>00299         <span class="keywordflow">if</span>( (rules &amp; <a class="code" href="_v_r_p_heuristic_8h.html#a2ba5a744885a738ff294d8f42f042c9f">VRPH_FREE</a>)  )
<a name="l00300"></a>00300             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00301"></a>00301 
<a name="l00302"></a>00302 
<a name="l00303"></a>00303         <span class="keywordflow">if</span>( (rules &amp; <a class="code" href="_v_r_p_heuristic_8h.html#a07903d607ed24000997de2cac0fb854a">VRPH_DOWNHILL</a>) )
<a name="l00304"></a>00304         {
<a name="l00305"></a>00305             <span class="keywordflow">if</span>(M-&gt;<a class="code" href="class_v_r_p_move.html#a824d4dbc2ba2328d6d6f9a361dc979d7">savings</a>&gt;=-<a class="code" href="_v_r_p_h_8h.html#a2c191a78250bd801cf2c86872de9f43b">VRPH_EPSILON</a> )
<a name="l00306"></a>00306             {
<a name="l00307"></a>00307                 M-&gt;<a class="code" href="class_v_r_p_move.html#ad6a7403e76e701bde510f50afecfa50e">evaluated_savings</a>=<span class="keyword">true</span>;
<a name="l00308"></a>00308                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00309"></a>00309             }
<a name="l00310"></a>00310         }
<a name="l00311"></a>00311 
<a name="l00312"></a>00312         <span class="keywordflow">if</span>( (rules &amp; <a class="code" href="_v_r_p_heuristic_8h.html#aa35a4c1303fa21cdbd57999a74eb4d38">VRPH_RECORD_TO_RECORD</a>) )
<a name="l00313"></a>00313         {
<a name="l00314"></a>00314             <span class="keywordflow">if</span>(M-&gt;<a class="code" href="class_v_r_p_move.html#a824d4dbc2ba2328d6d6f9a361dc979d7">savings</a>&lt;-<a class="code" href="_v_r_p_h_8h.html#a2c191a78250bd801cf2c86872de9f43b">VRPH_EPSILON</a>)
<a name="l00315"></a>00315             {
<a name="l00316"></a>00316                 M-&gt;<a class="code" href="class_v_r_p_move.html#ad6a7403e76e701bde510f50afecfa50e">evaluated_savings</a>=<span class="keyword">true</span>;
<a name="l00317"></a>00317                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00318"></a>00318             }
<a name="l00319"></a>00319             <span class="keywordflow">else</span>
<a name="l00320"></a>00320             {
<a name="l00321"></a>00321 
<a name="l00322"></a>00322                 <span class="keywordflow">if</span>(<a class="code" href="class_v_r_p.html#aba36cee3f7c8bdc5f97ccf8b35c2e6d5">has_service_times</a>==<span class="keyword">false</span>)
<a name="l00323"></a>00323                 {
<a name="l00324"></a>00324                     <span class="keywordflow">if</span>( (<a class="code" href="class_v_r_p.html#a4c206d5757a64335ad660ad03116c376">total_route_length</a>+M-&gt;<a class="code" href="class_v_r_p_move.html#a824d4dbc2ba2328d6d6f9a361dc979d7">savings</a>&lt;= (1+<a class="code" href="class_v_r_p.html#a1e39d7493e674f4a22f22f21e5d0bd87">deviation</a>)*<a class="code" href="class_v_r_p.html#a0561674f364aba302b1cc4d0f76f6837">record</a>) )
<a name="l00325"></a>00325                     {
<a name="l00326"></a>00326                         M-&gt;<a class="code" href="class_v_r_p_move.html#ad6a7403e76e701bde510f50afecfa50e">evaluated_savings</a>=<span class="keyword">true</span>;
<a name="l00327"></a>00327                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00328"></a>00328                     }
<a name="l00329"></a>00329                     <span class="keywordflow">else</span>
<a name="l00330"></a>00330                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00331"></a>00331                 }
<a name="l00332"></a>00332                 <span class="keywordflow">else</span>
<a name="l00333"></a>00333                 {
<a name="l00334"></a>00334                     <span class="comment">// We have service times so remove the service time from the</span>
<a name="l00335"></a>00335                     <span class="comment">// deviation calculation</span>
<a name="l00336"></a>00336                     <span class="keywordflow">if</span>( ((<a class="code" href="class_v_r_p.html#a4c206d5757a64335ad660ad03116c376">total_route_length</a> - <a class="code" href="class_v_r_p.html#a8e6219158b959b07443ecee7508f820b">total_service_time</a>) + M-&gt;<a class="code" href="class_v_r_p_move.html#a824d4dbc2ba2328d6d6f9a361dc979d7">savings</a> &lt;= 
<a name="l00337"></a>00337                         ((1+<a class="code" href="class_v_r_p.html#a1e39d7493e674f4a22f22f21e5d0bd87">deviation</a>)*(<a class="code" href="class_v_r_p.html#a0561674f364aba302b1cc4d0f76f6837">record</a>-<a class="code" href="class_v_r_p.html#a8e6219158b959b07443ecee7508f820b">total_service_time</a>))) )
<a name="l00338"></a>00338                     {
<a name="l00339"></a>00339                         M-&gt;<a class="code" href="class_v_r_p_move.html#ad6a7403e76e701bde510f50afecfa50e">evaluated_savings</a>=<span class="keyword">true</span>;
<a name="l00340"></a>00340                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00341"></a>00341                     }
<a name="l00342"></a>00342                     <span class="keywordflow">else</span>
<a name="l00343"></a>00343                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00344"></a>00344                 }
<a name="l00345"></a>00345 
<a name="l00346"></a>00346 
<a name="l00347"></a>00347             }
<a name="l00348"></a>00348 
<a name="l00349"></a>00349         }
<a name="l00350"></a>00350 
<a name="l00351"></a>00351         <span class="keywordflow">if</span>( rules &amp; <a class="code" href="_v_r_p_heuristic_8h.html#ae20553f5dae38f2b640a1205412cd580">VRPH_SIMULATED_ANNEALING</a> )
<a name="l00352"></a>00352         {
<a name="l00353"></a>00353             <span class="keywordflow">if</span>( exp( - ((M-&gt;<a class="code" href="class_v_r_p_move.html#a824d4dbc2ba2328d6d6f9a361dc979d7">savings</a>) / this-&gt;temperature)) &gt; <a class="code" href="_r_n_g_8cpp.html#adf64b5cfab9379546056f95c7e50dbb2">lcgrand</a>(0) )
<a name="l00354"></a>00354             {
<a name="l00355"></a>00355                 M-&gt;<a class="code" href="class_v_r_p_move.html#ad6a7403e76e701bde510f50afecfa50e">evaluated_savings</a>=<span class="keyword">true</span>;
<a name="l00356"></a>00356                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00357"></a>00357             }
<a name="l00358"></a>00358             <span class="keywordflow">else</span>
<a name="l00359"></a>00359                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00360"></a>00360 
<a name="l00361"></a>00361         }
<a name="l00362"></a>00362 
<a name="l00363"></a>00363         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00364"></a>00364 
<a name="l00365"></a>00365 
<a name="l00366"></a>00366     };
<a name="l00367"></a>00367 
<a name="l00368"></a>00368 
<a name="l00369"></a>00369 
<a name="l00370"></a>00370 
<a name="l00371"></a>00371 };
<a name="l00372"></a>00372 
<a name="l00373"></a>00373 <span class="preprocessor">#endif</span>
<a name="l00374"></a>00374 <span class="preprocessor"></span>
<a name="l00375"></a>00375 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Feb 9 2012 10:15:14 for VRPH by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
